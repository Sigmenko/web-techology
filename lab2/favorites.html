<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Улюблені страви</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Montserrat', sans-serif; margin: 0; background-color: #f4f7f6; }
        header { background-color: #ff6347; padding: 1rem; text-align: center; }
        nav a { color: white; text-decoration: none; font-weight: bold; font-size: 1.2rem; }
        
        main { max-width: 800px; margin: 20px auto; padding: 20px; }
        h1 { text-align: center; color: #333; }
        
        .food-card {
            background: white; border-radius: 10px; padding: 15px; margin-bottom: 20px;
            display: flex; align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .food-card img { width: 100px; height: 100px; object-fit: cover; border-radius: 10px; }
        .info { flex-grow: 1; margin-left: 20px; }
        
        .remove-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: red; transition: transform 0.2s; }
        .remove-btn:hover { transform: scale(1.2); }
        
        #empty-msg { text-align: center; color: #777; font-size: 1.2rem; display: none; }
    </style>
</head>
<body>

<header>
    <nav>
        <a href="index.html">⬅️ Назад в Меню</a>
    </nav>
</header>

<main>
    <h1>Ваші улюблені страви ❤️</h1>
    <div id="empty-msg">Список порожній. <br> <a href="index.html">Додати смаколики</a></div>
    <div id="favorites-list"></div>
</main>

<script>
    // --- ДАНІ (МАЮТЬ ЗБІГАТИСЯ З INDEX.HTML) ---
    const menuItems = [
        { id: 1, title: "Піца Маргарита", price: 250, image: "img/pizza.jpg" },
        { id: 2, title: "Сет 'Каліфорнія'", price: 400, image: "img/sushi.jpg" },
        { id: 3, title: "Бургер 'BBQ'", price: 180, image: "img/burger.jpg" },
        { id: 4, title: "Салат Цезар", price: 150, image: "img/salad.jpg" }
    ];

    const container = document.getElementById('favorites-list');
    const emptyMsg = document.getElementById('empty-msg');

    function renderFavorites() {
        container.innerHTML = '';
        
        // Читаємо пам'ять
        const rawData = localStorage.getItem('favorites');
        const savedIds = JSON.parse(rawData || "[]").map(Number);
        
        // Фільтруємо
        const myDishes = menuItems.filter(item => savedIds.includes(item.id));

        if (myDishes.length === 0) {
            emptyMsg.style.display = 'block';
        } else {
            emptyMsg.style.display = 'none';
            
            myDishes.forEach(dish => {
                const div = document.createElement('div');
                div.className = 'food-card';
                div.innerHTML = `
                    <img src="${dish.image}" alt="${dish.title}">
                    <div class="info">
                        <h3>${dish.title}</h3>
                        <p style="font-weight:bold; color:#555;">${dish.price} грн</p>
                    </div>
                    <button class="remove-btn" onclick="remove(${dish.id})" title="Видалити">❌</button>
                `;
                container.appendChild(div);
            });
        }
    }

    function remove(id) {
        let favs = JSON.parse(localStorage.getItem('favorites') || "[]").map(Number);
        favs = favs.filter(f => f !== id);
        localStorage.setItem('favorites', JSON.stringify(favs));
        renderFavorites(); // Перемальовуємо без перезавантаження
    }

    // Запуск
    renderFavorites();
</script>

</body>
</html>